# Courses Feature Todo List

This file tracks the implementation of the "Courses" feature as specified in `fr-specs.md`.

## 1. Content Structure and Management
- [x] Create a new content collection for courses in `src/content/courses`.
- [x] Define the schema for courses, sections, and lessons, including fields for title, cover image, description, level (Beginner, Intermediate, Advanced), and category.

## 2. Feature Entry Points
- [x] Add a "Courses" link to the main navigation menu (`src/components/Navbar.astro`) between "Home" and "Archive".
- [x] Create a new "Courses" card in the sidebar (`src/components/widget/SideBar.astro`) that lists available courses.
- [ ] Implement functionality to "pin" a course to the top of the main post list on the home page.

## 3. Courses List Page
- [x] Create a new page at `/courses` to display all available courses.
- [x] Adapt the existing `src/components/PostCard.astro` to create a `CourseCard.astro` component for the courses list.
- [x] The course card should display:
    - [x] Title
    - [x] Cover image
    - [x] Description
    - [x] Level
    - [x] Category
    - [x] Total number of lessons
    - [x] "Start Course" or "Continue" button (based on progress).
- [x] On the `/courses` page sidebar:
    - [x] Keep the "Profile" card.
    - [x] Hide the Courses card.
    - [x] Update the "Categories" card to show only course-related categories.
    - [x] Replace the "Tags" card with a "Levels" card for filtering courses by difficulty.

## 4. Course Detail Page
- [x] Create a dynamic route for course detail pages at `/courses/[course-slug]/`.
- [x] Implement the sidebar:
    - [x] Display all lessons grouped by collapsible sections (accordion).
    - [x] The section with the currently active lesson should be expanded by default.
    - [x] Clicking a lesson title should render its content in the main area.
- [x] Implement the main content area:
    - [x] Display the content of the selected lesson.
    - [x] Default to the first lesson or the last viewed lesson based on `localStorage` progress.
    - [x] Add "Next" and "Previous" navigation buttons at the bottom of each lesson.
    - [x] The first lesson should not have a "Previous" button.
    - [x] The last lesson should have a "Finish" button instead of a "Next" button.
- [x] Implement progress tracking:
    - [x] Use `localStorage` to track completed lessons.
    - [x] Clicking "Next" marks the current lesson as completed.
    - [x] Add a "Reset Progress" button at the top of the course sidebar.

## 5. Existing Feature Integration
- [ ] Update the Archive page (`src/pages/archive.astro`) to include lessons.
- [ ] Add a "Post" or "Lesson" label to each item in the archive timeline to differentiate content types.
- [ ] Update the global search functionality (`src/components/Search.svelte`) to include course and lesson content in search results.
