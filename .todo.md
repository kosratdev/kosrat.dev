# Courses Feature Todo List

This file tracks the implementation of the "Courses" feature as specified in `fr-specs.md`.

## 1. Content Structure and Management
- [x] Create a new content collection for courses in `src/content/courses`.
- [x] Define the schema for courses, sections, and lessons, including fields for title, cover image, description, level (Beginner, Intermediate, Advanced), and category.

## 2. Feature Entry Points
- [x] Add a "Courses" link to the main navigation menu (`src/components/Navbar.astro`) between "Home" and "Archive".
- [ ] Create a new "Courses" card in the sidebar (`src/components/widget/SideBar.astro`) that lists available courses.
- [ ] Implement functionality to "pin" a course to the top of the main post list on the home page.

## 3. Courses List Page
- [ ] Create a new page at `/courses` to display all available courses.
- [ ] Adapt the existing `src/components/PostCard.astro` to create a `CourseCard.astro` component for the courses list.
- [ ] The course card should display:
    - [ ] Title
    - [ ] Cover image
    - [ ] Description
    - [ ] Level
    - [ ] Category
    - [ ] Total number of lessons
    - [ ] "Start Course" or "Continue" button (based on progress).
- [ ] On the `/courses` page sidebar:
    - [ ] Keep the "Profile" card.
    - [ ] Update the "Categories" card to show only course-related categories.
    - [ ] Replace the "Tags" card with a "Levels" card for filtering courses by difficulty.

## 4. Course Detail Page
- [ ] Create a dynamic route for course detail pages at `/courses/[course-slug]`.
- [ ] Implement the sidebar:
    - [ ] Display all lessons grouped by collapsible sections (accordion).
    - [ ] The section with the currently active lesson should be expanded by default.
    - [ ] Clicking a lesson title should render its content in the main area.
- [ ] Implement the main content area:
    - [ ] Display the content of the selected lesson.
    - [ ] Default to the first lesson or the last viewed lesson based on `localStorage` progress.
    - [ ] Add "Next" and "Previous" navigation buttons at the bottom of each lesson.
    - [ ] The first lesson should not have a "Previous" button.
    - [ ] The last lesson should have a "Finish" button instead of a "Next" button.
- [ ] Implement progress tracking:
    - [ ] Use `localStorage` to track completed lessons.
    - [ ] Clicking "Next" marks the current lesson as completed.
    - [ ] Add a "Reset Progress" button at the top of the course sidebar.

## 5. Existing Feature Integration
- [ ] Update the Archive page (`src/pages/archive.astro`) to include lessons.
- [ ] Add a "Post" or "Lesson" label to each item in the archive timeline to differentiate content types.
- [ ] Update the global search functionality (`src/components/Search.svelte`) to include course and lesson content in search results.
