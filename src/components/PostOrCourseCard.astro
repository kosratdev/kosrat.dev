---
import type { CollectionEntry } from "astro:content";
import type { PostOrCourse } from "../utils/content/types";
import { getPostUrlBySlug } from "../utils/url-utils";
import CourseCard from "./CourseCard.astro";
import PostCard from "./PostCard.astro";

interface Props {
	item: PostOrCourse;
	class?: string;
	style?: string;
	isPinned?: boolean;
	selectionRank?: number;
	totalItemsVisible?: number;
}

const {
	item,
	style,
	isPinned = false,
	selectionRank,
	totalItemsVisible,
} = Astro.props;
const className = Astro.props.class;
---

{item.type === "post" ? (
	<PostCard
		entry={item.entry as CollectionEntry<"posts">}
		class={className}
		style={style || ""}
	/>
) : (
	<CourseCard
		course={item.entry as CollectionEntry<"courses">}
		class={className}
		style={style || ""}
		clickLocation="homepage"
		isPinned={isPinned}
		selectionRank={selectionRank}
		totalCoursesVisible={totalItemsVisible}
	/>
)}
